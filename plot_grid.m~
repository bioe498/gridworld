function plot_grid(N,values,policy)

m = sqrt(N);
n = sqrt(N);
sz = [m n];

if nargin < 2 || isempty(values)
    values = 1:N;
end

plot([0 m m 0], [0 0 n n],'k');
hold on;
for i = 1:N
    [row,col] = ind2sub(sz,i);
    text(row-0.5, col-0.5, num2str(values(i)));
end

alpha = 0.8;
for j = 1:n-1
    plot([0 m],[j j],'Color',[alpha alpha alpha]);
end
for i = 1:m-1
    plot([i i],[0 n],'Color',[alpha alpha alpha]);
end

if nargin == 3
    for i = 1:N
        for j = 1:N
            if policy(i,j) > 0 && i ~= j
                [r1,c1] = ind2sub(sz,i);
                [r2,c2] = ind2sub(sz,j);
                p1 = [r1,c1] - [0.5 0.75];
                p2 = p1 + 0.5*[sign(r2-r1) sign(c2-c1)];
                arrow3(p1,p2,[]);
            end
        end
    end
end

hold off;


